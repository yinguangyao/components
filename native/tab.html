<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>demos</title>
    <link href="../react/build/css/index.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div class="tabs" id="tabs"></div>
    <script id="tpl" type="text/template">
        <ul class="tab-nav-list">
            <%for(var i=0;i<tabs.length;i++) {%>
                <li class="tab-nav-item" data-index="<%i%>"><%tabs[i].nav%></li>
            <%}%>
        </ul>
        <div class="tab-content">
            <%for(var i=0;i<tabs.length;i++) {%>
                <div class="tab-pane">
                    <div class="pane-content"><%tabs[i].content%></div>
                </div>
            <%}%>
        </div>
    </script>
    <script src="./javascript/lib/$.js"></script>
    <script src="./javascript/lib/templateX.js"></script>
    <script src="./javascript/tab.js"></script>
    <script>
        $.ready(() => {
            const render = () => {
                const tpl = $("#tpl").get(0).html()
                const data = [{
                    nav: "title one",
                    content: "这是选项卡一"
                }, {
                    nav: "title two",
                    content: "这是选项卡二"
                }, {
                    nav: "title three",
                    content: "这是选项卡三"
                }]
                $("#tabs").get(0).html(templateX(tpl, {tabs: data}))
            }
            render()
            new Tabs({
                root: "#tabs",
                defaultKey: 1,
                onSelect: function(index) {
                    console.log("this is index: " + index);
                }
            })
        })
    </script>
</body>
</html>